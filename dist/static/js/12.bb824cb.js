(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{358:function(t,e,a){"use strict";a.r(e);var i=a(872),n=a(532);for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a(706);var o=a(11),s=Object(o.a)(n.default,i.a,i.b,!1,null,null,null);s.options.__file="src/components/pro-components/child/adGroup.vue",e.default=s.exports},370:function(t,e,a){"use strict";var i=a(12);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a(373)),r={Common:{sityList:function(t){return n.default.post("/base/city/list.do",t)}},adGroup:{add:function(t){return n.default.post("/ad/group/add.do",t)},get:function(t){return n.default.post("/ad/group/list.do",t)},update:function(t){return n.default.post("/ad/group/update.do",t)},updateStatus:function(t){return n.default.post("/ad/group/update/status.do",t)}},adPlan:{add:function(t){return n.default.post("/ad/plan/add.do",t)},get:function(t){return n.default.post("/ad/plan/list.do",t)},update:function(t){return n.default.post("/ad/plan/update.do",t)},updateStatus:function(t){return n.default.post("/ad/plan/update/status.do",t)}},adIdea:{add:function(t){return n.default.post("/ad/idea/add.do",t)},get:function(t){return n.default.post("/ad/idea/list.do",t)},update:function(t){return n.default.post("/ad/idea/update.do",t)},updateStatus:function(t){return n.default.post("/ad/idea/update/status.do",t)}},User:{info:function(t){return n.default.post("/user/info.do",t)},getCompany:function(t){return n.default.post("/user/company/info.do",t)},addCompany:function(t){return n.default.post("/user/company/update.do",t)},getAdput:function(t){return n.default.post("/user/adput/info.do",t)},addAdput:function(t){return n.default.post("/user/adput/update.do",t)}},Dict:{get:function(){return n.default.get("/dict")}},Home:{getMessageList:function(){return n.default.get("/home/messages")},userIndex:function(t){return n.default.post("/user/index.do",t)}},Account:{menus:function(){return n.default.get("/getmenuList")}},Login:{login:function(t){return n.default.post("/pub/login.do",t)},logout:function(t){return n.default.post("/user/logout.do",t)}},Register:{getSMS:function(t){return n.default.post("/pub/send/verification/vode.do",t)},addUser:function(t){return n.default.post("/pub/register.do",t)},resetPassword:function(t){return n.default.post("/pub/rest/password.do",t)}},Management:{users:function(t){return n.default.get("/management/users",t)},roles:function(t){return n.default.get("/management/roles",t)}},Library:{getLibrary:function(t){return n.default.post("/ad/library/list.do",t)},deleteLibrary:function(t){return n.default.post("/ad/library/delete.do",t)},getAdType:function(t){return n.default.post("/base/ad/type/list.do",t)},addViews:function(t){return n.default.post("/ad/idea/view/add.do",t)},removeView:function(t){return n.default.post("/ad/idea/view/delete.do",t)},getView:function(t){return n.default.post("/ad/idea/view/list.do",t)},getIdea:function(t){return n.default.post("/ad/idea/get.do",t)},getViews:function(t){return n.default.post("/ad/idea/style/views.do",t)}}};e.default=r},373:function(t,e,a){"use strict";(function(t,i){var n=a(12);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a(381)),o=n(a(382)),s=n(a(49)),u={repeatable:!0};r.default.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8",r.default.defaults.baseURL=t.get("env").apiDomin;var d={PREFIX:"",Author:s.default.getAuthor()||"fanjiantao",requestingApi:new Set,extractUrl:function(t){return t?t.split("?")[0]:""},isRequesting:function(t){var e=this.extractUrl(t);return this.requestingApi.has(e)},addRequest:function(t){var e=this.extractUrl(t);this.requestingApi.add(e)},deleteRequest:function(t){var e=this.extractUrl(t);this.requestingApi.delete(e)},get:function(t,e,a){var i={url:t,method:"GET"};return e&&(i.params=e),this.ajax(i,a)},post:function(t,e,a){var i={url:t,method:"POST"},n={body:e,header:{token:s.default.getCookie("token"),cmdType:"1"}};return e&&(i.data=JSON.stringify(n)),this.ajax(i,a)},postJson:function(t,e,a){return this.ajax({url:t,method:"POST",data:e},a)},patchJson:function(t,e,a,i){return this.ajax({url:t,method:"PATCH",data:e},i)},delete:function(t,e){return this.ajax({url:t,method:"DELETE"},e)},ajax:function(t,e){var a=s.default.extend({},u,t,e||{});a.crossDomain=0===a.url.indexOf("http");var n=a.url;if(a.crossDomain||(n=a.url=this.PREFIX+a.url),"GET"!=a.method){if(this.isRequesting(n))return new Promise((function(t,e){t({ok:!1,msg:"重复请求"})}));!1===a.repeatable&&this.addRequest(n)}var d={headers:{"Content-Type":"application/x-www-form-urlencoded"},responseType:"json",validateStatus:function(t){return!0},paramsSerializer:function(t){return o.default.stringify(t,{allowDots:!0})}};a.crossDomain&&(d.headers={});var l=this;return a=s.default.extend({},d,a),new Promise((function(t){return r.default.request(a).then((function(e){l.deleteRequest(a.url);var n=e.data,r=e.status;if(200!=r){if(401==r)return void(window.top.location="/login");500==r?i.$Message.error("后台异常"):404==r?i.$Message.error("请求不存在"):200!=r&&i.$Message.error(n._msg||"请求异常")}-2==n.code&&(s.default.clearCookie(),window.location.href=window.location.href),n.ok=0==n.code,n.ok||i.$Message.error(n.msg),t(n)})).catch((function(){l.deleteRequest(a.url),t({ok:!1})}))}))}};e.default=d}).call(this,a(76),a(77))},532:function(t,e,a){"use strict";a.r(e);var i=a(533),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e.default=n.a},533:function(t,e,a){"use strict";(function(t){var i=a(12);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a(110)),r={props:["groupId","type"],data:function(){return{groupList:[],formData:{groupTarget:"",groupName:""},rules:{required:["groupTarget","groupName"]},pagination:{page:1,size:10,total:20},searchGroupName:"",cardTab:[{key:"1",title:"应用推广",infor:"提升应用的下载、安装、激活、付费",iconImg:a(705)},{key:"2",title:"销售线索收集",infor:"提升销售线索的获取量",iconImg:"//s1.pstatp.com/bytecom/platform_web/static/image/campaign-store.svg?72d4c5cabf9ba0e31c5534c4f6156a21"},{key:"3",title:"头条文章推广",infor:"提升头条文章的曝光与点击",iconImg:"//s1.pstatp.com/bytecom/platform_web/static/image/campaign-article.svg?7f77c8a4725daf6d1bfd35c630273289"}],param:{module1:"创建新广告组",module2:"选择已有广告组"},selected:"module1"}},methods:{linkPlan:function(t){this.$router.push({name:"adPlan",query:{groupId:t.id,groupName:t.groupName}})},init:function(){console.log("初始化配置")},currentChange:function(t){this.getGroupList()},activeCard:function(t){this.formData.groupTarget=t},change:function(t){"module2"==this.selected&&this.getGroupList()},getGroupList:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$Loading(),a&&(this.pagination.page=1),t.adGroup.get({page:this.pagination.page,limit:this.pagination.size,data:{groupName:this.searchGroupName}}).then((function(t){e.$Loading.close(),t.ok&&(e.groupList=t.data.list,e.pagination.total=t.data.total)}))},submit:function(){var e=this;this.$refs.form.valid().result&&("edit"==this.type?t.adGroup.update((0,n.default)({},this.formData)).then((function(t){t.ok&&e.$router.go(-1)})):(this.$Loading("提交中..."),t.adGroup.add((0,n.default)({},this.formData)).then((function(t){e.$Loading.close(),t.ok&&e.$router.push({name:"adPlan",query:{groupId:t.data.id,groupName:t.data.groupName}})}))))},initData:function(){var e=this;this.groupId&&(this.$Loading(),t.adGroup.get({data:{id:this.groupId},page:1,limit:1}).then((function(t){e.$Loading.close(),e.formData=t.data.list[0]})))}},created:function(){this.$emit("activeStep",{key:"0",step:"0"})},mounted:function(){this.initData()},computed:{}};e.default=r}).call(this,a(370).default)},534:function(t,e,a){},705:function(t,e,a){t.exports=a.p+"static/images/src/images/proimg/campaign-app.dcb1106.svg"},706:function(t,e,a){"use strict";var i=a(534);a.n(i).a},872:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"panel_moduler"},[a("Form",{ref:"form",attrs:{model:t.formData,rules:t.rules,validOnChange:!0}},[a("Tabs",{attrs:{datas:t.param,"class-name":"h-tabs-custom"},on:{change:t.change},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),t._v(" "),"module2"==t.selected?a("div",{staticStyle:{"margin-top":"30px"}},[a("Search",{attrs:{height:34,width:518,showSearchButton:"",placeholder:"请输入广告组ID或名称"},model:{value:t.searchGroupName,callback:function(e){t.searchGroupName=e},expression:"searchGroupName"}},[a("i",{staticClass:"h-icon-search"}),t._v("搜索\r\n                ")]),t._v(" "),a("div",{staticClass:"campaign-have",staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"campaign-have-list",staticStyle:{"margin-left":"0px","margin-right":"0px"}},[a("div",{staticClass:"campaign-have-header"},[a("strong",[t._v("列表")])]),t._v(" "),a("ul",t._l(t.groupList,(function(e,i){return a("li",{key:i,staticClass:"ad-d-flex ad-d-flex-between",on:{click:function(a){return t.linkPlan(e)}}},[a("div",{staticClass:"ad-d-flex"},[a("span",{staticClass:"max-name",attrs:{"data-no-translate":""}},[a("span",{staticClass:"ad-color-text-link"}),t._v(t._s(e.groupName)+"\r\n                                    ")])])])})),0)]),t._v(" "),a("Pagination",{attrs:{pagerSize:5,layout:"pager",align:"right"},on:{change:t.currentChange},model:{value:t.pagination,callback:function(e){t.pagination=e},expression:"pagination"}})],1)],1):t._e(),t._v(" "),"module1"==t.selected?a("div",{staticClass:"campaign",staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"campaign-create"},[a("div",{staticClass:"campaign-row-title"},[t._v("\r\n                        Hi, 请选择推广目的\r\n                        ")]),t._v(" "),a("FormItem",{attrs:{prop:"groupTarget",label:"推广目的",showLabel:!1}},[a("div",{staticClass:"campaign-card-items clearfix"},t._l(t.cardTab,(function(e,i){return a("div",{key:i,staticClass:"campaign-card",class:{active:t.formData.groupTarget==e.key},on:{click:function(a){return t.activeCard(e.key)}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.formData.groupTarget==e.key,expression:"formData.groupTarget==item.key"}],staticClass:"campaign-card-active"}),t._v(" "),a("div",{staticClass:"campaign-card-tip"},[a("div",{staticClass:"campaign-card-title"},[a("strong",[t._v(t._s(e.title))])]),t._v(" "),a("div",{staticClass:"campaign-card-info"},[t._v(t._s(e.infor))])]),t._v(" "),a("div",{staticClass:"campaign-card-img"},[a("img",{attrs:{src:e.iconImg,alt:""}})])])})),0)]),t._v(" "),a("div",{staticClass:"campaign-row-title group-row-title"}),t._v(" "),a("div",{staticClass:"campaign-create-form ad-m-t-md"},[a("div",{staticClass:"row-item"},[a("div",{staticClass:"hint-item"}),t._v(" "),a("div",{staticClass:"label-item label-size-middle"},[a("div",{staticClass:"text-item"},[t._v("广告组名称")]),t._v(" "),a("div",{staticClass:"required-item"})]),t._v(" "),a("div",{staticClass:"input-item",attrs:{id:""}},[a("FormItem",{attrs:{label:"广告组名称",prop:"groupName",showLabel:!1}},[a("input",{directives:[{name:"width",rawName:"v-width",value:500,expression:"500"},{name:"model",rawName:"v-model",value:t.formData.groupName,expression:"formData.groupName"}],attrs:{type:"text"},domProps:{value:t.formData.groupName},on:{input:function(e){e.target.composing||t.$set(t.formData,"groupName",e.target.value)}}})])],1)])])],1)]):t._e()],1)],1),t._v(" "),a("div",{staticClass:"panel_moduler",staticStyle:{"min-width":"1048px","padding-top":"24px","padding-bottom":"24px","text-align":"right"}},["edit"==t.type?a("Button",{attrs:{color:"primary",size:"l"},on:{click:t.submit}},[t._v("保存退出")]):a("Button",{attrs:{color:"primary",size:"l"},on:{click:t.submit}},[t._v("下一步")])],1)])},n=[];i._withStripped=!0}}]);